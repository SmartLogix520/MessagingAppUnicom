;/*FB_PKG_DELIM*/

__d("RoyalBluebar",["cx","Arbiter","CSS","Event","QuicklingFetchStreamConfig","Run","SubscriptionsHandler","clearTimeout","ge","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){var i=null,j=!1,k=c("QuicklingFetchStreamConfig").experimentName!=="off"&&c("QuicklingFetchStreamConfig").experimentName!=="none",l=null;function m(){l||(l=new(c("SubscriptionsHandler"))(),d("Run").onUnload(function(){l.release(),l=null}));return l}function a(a){m().addSubscriptions(c("Arbiter").subscribe("bluebarFixedBehaviorController/isfixed",function(b,e){b="_50ti";var f="_33rf";a.firstChild instanceof Element&&d("CSS").conditionClass(a.firstChild,b,e);a.firstChild instanceof Element&&d("CSS").conditionClass(a.firstChild,f,!e);c("Arbiter").inform("reflow")}))}function b(a){m().addSubscriptions(c("Event").listen(a,"click",function(a){c("Arbiter").inform("BlueBar/homeClick",a)===!1&&a.preventDefault()}))}function e(){if(k){i&&i();var a=c("ge")(c("QuicklingFetchStreamConfig").bluebarTransitionElement);a&&d("CSS").addClass(a,c("QuicklingFetchStreamConfig").bluebarTransitionClass)}}function f(){if(k){var a=c("QuicklingFetchStreamConfig"),b=c("ge")(a.bluebarTransitionElement);if(!b)return;if(c("QuicklingFetchStreamConfig").experimentName==="Indeterminate"){if(!j){j=!0;d("CSS").addClass(b,"finishing");var e;i=function(){i=null,j=!1,c("clearTimeout")(e),d("CSS").removeClass(b,"finishing"),d("CSS").removeClass(b,a.bluebarTransitionClass)};e=c("setTimeoutAcrossTransitions")(i,200)}}else d("CSS").removeClass(b,a.bluebarTransitionClass)}}g._getSubscriptionHandler=m;g.fixOnScroll=a;g.informOnClick=b;g.startTransitionAnimation=e;g.stopTransitionAnimation=f}),98);
__d("HostnameRewriter",["ConstUriUtils","Env","URI","isFacebookURI","lowerFacebookDomain"],(function(a,b,c,d,e,f,g){var h,i,j=function(a){return String(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},k=null,l=null,m=new RegExp("facebook\\.com$"),n=new RegExp("^www\\.(|.*\\.)facebook\\.com$"),o=null,p="facebook.com",q=null,r=new RegExp("fbcdn\\.net$"),s=new RegExp("^www\\."),t=new RegExp("(^|\\.)(facebook\\.com|workplace\\.com)$","i");function u(){k=null;var a="(^|\\.)";o=a+j(p)+"$";l=null}function v(){if(o==null)return null;if(k)return k;k=new RegExp(o,"i");return k}function w(){if(l)return l;l=new RegExp("(^|\\.)("+j(p)+"|facebook\\.com)$","i");return l}function x(a){if(w().test(a)&&p!=null)return a.replace(m,p);else if(q!=null&&a!==null)return a.replace(r,q);return a}function y(a){return n.test(a)?a.replace(s,"web."):a}function z(a){return function(b){b=new(h||(h=c("URI")))(b);b.setDomain(a(b.getDomain()));return b}}function A(a,b){p=a,q=b,u(),c("isFacebookURI").setRegex(v()),(h||(h=c("URI"))).registerFilter(z(x)),d("ConstUriUtils").registerDomainFilter(x),c("lowerFacebookDomain").setDomain(p)}function a(a,b){p=a,(h||(h=c("URI"))).registerFilter(z(y))}function b(){var a=(i||(i=c("Env"))).hostnameRewriterConfig;if(a==null)return;switch(a.site){case"onion":A(a.inboundName,a.cdnDomainName);break}}function e(){c("isFacebookURI").setRegex(t)}g.registerFacebookOverTorFilters=A;g.registerInternetDotOrgFilters=a;g.maybeRegisterFilters=b;g.treatWorkplaceAsFacebookURI=e}),98);
__d("replaceNativeTimer",["Hyperion","cancelAnimationFrame","clearInterval","clearTimeout","requestAnimationFrame","setInterval","setTimeout"],(function(a,b,c,d,e,f){b("Hyperion");a.__fbNativeSetTimeout=a.setTimeout;a.__fbNativeClearTimeout=a.clearTimeout;a.__fbNativeSetInterval=a.setInterval;a.__fbNativeClearInterval=a.clearInterval;a.__fbNativeRequestAnimationFrame=a.requestAnimationFrame;a.__fbNativeCancelAnimationFrame=a.cancelAnimationFrame;b("setTimeout").nativeBackup=a.setTimeout;b("clearTimeout").nativeBackup=a.clearTimeout;b("setInterval").nativeBackup=a.setInterval;b("clearInterval").nativeBackup=a.clearInterval;b("requestAnimationFrame").nativeBackup=a.requestAnimationFrame;b("cancelAnimationFrame").nativeBackup=a.cancelAnimationFrame;a.setTimeout=b("setTimeout");a.clearTimeout=b("clearTimeout");a.setInterval=b("setInterval");a.clearInterval=b("clearInterval");a.requestAnimationFrame=b("requestAnimationFrame");a.cancelAnimationFrame=b("cancelAnimationFrame");function c(){}e.exports=c}),null);